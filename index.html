<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8" />
  <title>RED — Veikals / Grozs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-graphite:#0f1113;
      --card-light:#ffffff;
      --card-dark:#1e2023;
      --muted:#9aa0a6;
      --accent-red:#e60000;
      --accent-red-dark:#b30000;
      --text-light:#f5f5f5;
      --text-dark:#111111;
      --radius:12px;
      --container-width:1100px;
    }

    html,body{height:100%;}
    body {
      margin:0;
      font-family: 'Lato', sans-serif;
      background: var(--bg-graphite);
      color: var(--text-light);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:28px 20px;
    }
    .wrap { width:100%; max-width:var(--container-width); }

    header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
      margin-bottom:28px;
      flex-wrap: wrap;
      position: relative;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 20px;
      position: relative;
    }
    .header-center {
      flex: 1;
      display: flex;
      justify-content: center;
    }
    .header-image {
      max-height: 53px;
      max-width: 165px;
      width: auto;
      height: auto;
      object-fit: contain;
    }
    .lang-selector {
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
      max-width: 100%;
    }
    .lang-selector button {
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.06);
      background: #0b0b0b;
      color: var(--text-light);
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s ease, border-color 0.2s ease;
      white-space: nowrap;
    }
    .lang-selector button.active {
      background: var(--accent-red);
      border-color: var(--accent-red);
    }
    .lang-selector button:hover {
      background: var(--accent-red-dark);
      border-color: var(--accent-red-dark);
    }

    .hamburger {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 30px;
      height: 30px;
      cursor: pointer;
      padding: 5px;
    }
    .hamburger span {
      background: var(--text-light);
      height: 3px;
      margin: 3px 0;
      border-radius: 2px;
      transition: all 0.3s ease;
    }
    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }
    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -7px);
    }

    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--card-dark);
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      min-width: 250px;
      z-index: 100;
    }
    .dropdown-menu.active {
      display: block;
    }
    .dropdown-menu button {
      display: block;
      width: 100%;
      padding: 12px 20px;
      background: none;
      border: none;
      color: var(--text-light);
      font-family: 'Lato', sans-serif;
      font-size: 14px;
      text-align: left;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .dropdown-menu button:hover {
      background: var(--accent-red-dark);
    }
    .dropdown-content {
      display: none;
      padding: 20px;
      border-top: 1px solid rgba(255,255,255,0.06);
    }
    .dropdown-content.active {
      display: block;
    }
    .dropdown-content p {
      margin: 0 0 10px;
      font-size: 14px;
      color: var(--text-light);
    }

    .grid { display:grid; grid-template-columns:1fr; gap:28px; align-items:start; }

    .products-list {
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:20px;
    }
    .product-card {
      background: var(--card-light);
      color: var(--text-dark);
      border-radius: var(--radius);
      padding:18px;
      box-shadow: 0 6px 20px rgba(2,6,12,0.45);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      transition: transform .22s ease, box-shadow .22s ease;
      min-height:440px;
      cursor: pointer;
    }
    .product-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgba(2,6,12,0.55);
    }
    .product-card img {
      width:100%;
      height:315px;
      object-fit:contain;
      border-radius:10px;
      margin-bottom:14px;
      background:#f0f0f0;
    }
    .product-card h3 {
      margin:0 0 8px 0;
      font-family: 'Playfair Display', serif;
      font-size:1.05rem;
      font-weight:700;
    }
    .product-card .price {
      font-weight:700;
      color:var(--accent-red);
      font-size:1.05rem;
      margin-bottom:12px;
    }
    .product-card .add-btn {
      display:inline-block;
      padding:12px 18px;
      background:var(--accent-red);
      color:#fff;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      text-align:center;
      border:none;
      text-decoration:none;
      transition: transform .14s ease, background .14s ease;
    }
    .product-card .add-btn:active { transform: translateY(1px); }
    .product-card .add-btn:hover { background:var(--accent-red-dark); }

    .panel {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding:20px;
      border:1px solid rgba(255,255,255,0.06);
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      color: var(--text-light);
    }
    .section-title {
      font-family: 'Playfair Display', serif;
      font-size:1.35rem;
      font-weight:700;
      color:#f5f5f5;
      display:inline-block;
      margin:0 0 14px 0;
      pointer-events:auto;
    }

    .simpleCart_items table {
      width:100%;
      max-width: 100%;
      border-collapse:collapse;
      margin-bottom:12px;
      background:transparent;
      overflow-x: auto;
    }
    .simpleCart_items th,
    .simpleCart_items td {
      padding:10px;
      border-bottom:1px solid rgba(255,255,255,0.06);
      text-align:center;
      font-size:14px;
      color:var(--text-light);
      background:transparent;
      word-break: break-word;
    }
    .simpleCart_items th { font-weight:700; }

    .quantity-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .quantity-controls button {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,0.06);
      background: var(--accent-red);
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .quantity-controls button:hover {
      background: var(--accent-red-dark);
    }
    .quantity-controls input {
      width: 40px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.06);
      background: #fff;
      color: var(--text-dark);
      border-radius: 6px;
      font-size: 14px;
    }

    .empty-cart-btn,
    .simpleCart_items .simpleCart_remove {
      display:inline-block;
      color:#fff !important;
      background:var(--accent-red);
      padding:6px 10px;
      border-radius:8px;
      font-weight:700;
      font-size:14px;
      text-decoration:none !important;
      cursor:pointer;
      border:none;
      white-space: nowrap;
    }
    .empty-cart-btn:hover,
    .simpleCart_items .simpleCart_remove:hover,
    .empty-cart-btn:active,
    .simpleCart_items .simpleCart_remove:active {
      background:var(--accent-red-dark) !important;
    }

    .cart-total {
      margin-top:8px;
      font-weight:700;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      font-size:1rem;
    }
    .cart-total .label { color:var(--muted); font-weight:600; }
    .cart-total .value { color:var(--text-light); font-size:1.05rem; }

    #locker-field { margin-top:12px; }
    #locker-field select {
      width:100%;
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      background:#fff;
      color:var(--text-dark);
      font-size:14px;
    }

    .order-form label { display:block; color:var(--muted); font-weight:600; margin-bottom:6px; }
    .order-form input[type="text"],
    .order-form input[type="email"],
    .order-form textarea {
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      background:#fff;
      color:var(--text-dark);
      font-size:14px;
      box-sizing:border-box;
    }
    .order-form textarea { min-height:90px; resize:vertical; }
    .order-form button {
      display:inline-block;
      padding:12px 20px;
      background:var(--accent-red);
      color:#fff;
      border-radius:10px;
      border:none;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(230,0,0,0.12);
      transition: background .14s ease, transform .08s ease;
    }
    .order-form button:hover { background:var(--accent-red-dark); }
    .order-form button:active { transform:translateY(1px); }

    .modal {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.5);
      padding-top: 60px;
    }
    .modal-content {
      background-color: var(--card-light);
      margin: 5% auto 15% auto;
      padding: 20px;
      border-radius: var(--radius);
      width: 80%;
      max-width: 600px;
      color: var(--text-dark);
      position: relative;
    }
    .close {
      position: absolute;
      right: 20px;
      top: 10px;
      color: var(--text-dark);
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover,
    .close:focus {
      color: var(--accent-red);
      text-decoration: none;
    }
    .modal img {
      width: 50%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 14px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .modal h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      margin: 0 0 10px 0;
    }
    .modal .description {
      font-size: 14px;
      margin-bottom: 14px;
      color: var(--text-dark);
    }
    .modal .price {
      font-weight: 700;
      color: var(--accent-red);
      font-size: 1.1rem;
      margin-bottom: 14px;
    }
    .modal .add-btn {
      display: inline-block;
      padding: 12px 18px;
      background: var(--accent-red);
      color: #fff;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      text-align: center;
      border: none;
      text-decoration: none;
      transition: transform .14s ease, background .14s ease;
    }
    .modal .add-btn:active { transform: translateY(1px); }
    .modal .add-btn:hover { background: var(--accent-red-dark); }

    @media (max-width:1100px){ 
      .products-list{ grid-template-columns:repeat(2,1fr);} 
    }
    @media (max-width:700px){ 
      .products-list{ grid-template-columns:1fr;}
      header {
        flex-wrap: nowrap;
        gap: 10px;
      }
      .header-image {
        max-height: 40px;
        max-width: 120px;
      }
      .header-left {
        position: absolute;
        left: 10px;
      }
      .lang-selector {
        position: absolute;
        right: 10px;
        gap: 2px;
        max-width: 120px;
        flex-shrink: 1;
        flex-grow: 0;
        justify-content: flex-end;
      }
      .lang-selector button {
        padding: 3px 4px;
        font-size: 10px;
      }
      .hamburger {
        width: 24px;
        height: 24px;
        padding: 4px;
      }
      .hamburger span {
        height: 2px;
        margin: 2px 0;
      }
      .simpleCart_items table { font-size: 12px; }
      .simpleCart_items .simpleCart_remove { padding: 4px 8px; font-size: 12px; }
      .dropdown-menu { left: 10px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="header-left">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="dropdown-menu">
          <button class="dropdown-btn" data-target="contacts">Kontakti</button>
          <button class="dropdown-btn" data-target="details">Rekvizīti</button>
          <div class="dropdown-content" id="contacts">
            <p>Lielā iela 19 K-1, Mārupe, LV-2167</p>
            <p>+37127552280</p>
            <p>info.redmond.lv@gmail.com</p>
            <p>I-V -10.00-18.00</p>
            <p>VI -pēc vienošanās</p>
            
          </div>
          <div class="dropdown-content" id="details">
            <p>SIA REDMOND BALTIC</p>
            <p>40103604538</p>
            <p>Lielā iela 19 K-1-1c, Mārupe, LV-2167</p>
            <p>LV13PARX0013541790004</p>
            
          </div>
        </div>
      </div>
      <div class="header-center">
        <img src="photo/redd.jpg" alt="Logo" class="header-image">
      </div>
      <div class="lang-selector">
        <button class="lang-btn active" data-lang="lv">LV</button>
        <button class="lang-btn" data-lang="lt">LT</button>
        <button class="lang-btn" data-lang="ru">RU</button>
        <button class="lang-btn" data-lang="ee">EE</button>
      </div>
    </header>

    <main>
      <div class="products-list" id="products-list"></div>

      <section class="panel">
        <div class="section-title" id="cart-title">Grozs</div>
        <div class="cart-items" style="margin-top:14px;"><div class="simpleCart_items"></div></div>
        <div class="cart-total" style="margin-top:12px;">
          <div class="label" id="cart-total-label">Kopā:</div>
          <div class="value"><span class="simpleCart_total">0.00</span> EUR</div>
        </div>
        <div style="margin-top:14px;">
          <a href="javascript:;" class="empty-cart-btn simpleCart_empty" id="empty-cart">Iztīrīt grozu</a>
        </div>
      </section>

      <section class="panel" style="margin-top:28px;">
        <div class="section-title" id="delivery-title">Piegāde</div>
        <div style="margin-top:14px;">
          <label style="display:block; color:var(--text-light); font-weight:600; margin-bottom:8px;">
            <input type="radio" name="delivery" value="Venipak pakomāts" required>
            <span id="venipak-label" style="margin-left:8px; color:var(--muted); font-weight:600;">Venipak pakomāts (1–3 darba dienas, 4.00 EUR)</span>
          </label>
          <div id="locker-field" class="hidden">
            <label id="choose-locker-label" style="display:block; color:var(--muted); margin-bottom:8px;">Izvēlieties pakomātu:</label>
            <select id="locker-select"><option value="">Ielādē pakomātus...</option></select>
          </div>
          <label id="pickup-label-container" style="display:block; margin-top:12px; color:var(--text-light); font-weight:600;">
            <input type="radio" name="delivery" value="Pašizņemšana Mārupē">
            <span id="pickup-label" style="margin-left:8px; color:var(--muted); font-weight:600;">Pašizņemšana Mārupē, Lielā 19 k1 (BEZMAKSAS)</span>
          </label>
        </div>
      </section>

      <section class="panel" style="margin-top:28px;">
        <div class="section-title" id="order-title">Noformēt pasūtījumu</div>
        <form class="order-form" id="orderForm" action="https://api.web3forms.com/submit" method="POST">
          <input type="hidden" name="access_key" value="eecfee69-2466-4350-809f-888ed9faac05">
          <input type="hidden" name="email_to" value="info.redmond.lv@gmail.com">
          <input type="hidden" name="cart_contents" id="cart_contents" value="">

          <label id="name-label">Jūsu vārds:<input type="text" name="customer_name" required></label>
          <label id="email-label">E-pasts:<input type="email" name="email" required></label>
          <label id="phone-label">Telefons:<input type="text" name="phone"></label>
          <label id="comments-label">Komentāri:<textarea name="message" rows="4"></textarea></label>

          <button type="submit" id="order-button">Pasūtīt</button>
        </form>
      </section>
    </main>
  </div>

  <div id="product-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <img src="" alt="">
      <h3></h3>
      <p class="description"></p>
      <div class="price"></div>
      <a href="javascript:;" class="add-btn">Pievienot grozam</a>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/simplecartjs/3.0.5/simplecart.min.js"></script>
  <script>
    const translations = {
      lv: { 
        title:"RED", 
        cartTitle:"Grozs", 
        cartTotal:"Kopā:", 
        emptyCart:"Iztīrīt grozu", 
        deliveryTitle:"Piegāde",
        venipak:"Venipak pakomāts (1–3 darba dienas, 4.00 EUR)", 
        pickup:"Pašizņemšana Mārupē, Lielā 19 k1 (BEZMAKSAS)",
        chooseLocker:"Izvēlieties pakomātu:", 
        orderTitle:"Noformēt pasūtījumu", 
        name:"Jūsu vārds:", 
        email:"E-pasts:",
        phone:"Telefons:", 
        comments:"Komentāri:", 
        orderButton:"Pasūtīt",
        addToCart: "Pievienot grozam",
        contacts: "Kontakti",
        details: "Rekvizīti",
        products:[
          {name:"Multikatls RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg", description: "Funkcijas: Automātiskā sildīšana līdz 12 st., Iepriekšēja automātiskās sildīšanas izslēgšana, Atliktais starts līdz 24 st., Ēdienu uzsildīšana, Multipavars, Vadības paneļa bloķēšana, Skaņas signālu izslēgšana, RGB indikācija, Programmas: Ātrā gatavošana (Ekspress), Rīsi/Putraimi, Zupa, Tvaicēšana, Vārīšana, Sautēšana, Sutināšana, Cepšana, Cepšana (Mīklas izstrādājumi), Pica, Plovs, Jogurts, Maize, Pasta, Piena putra, Vakuums, Fritēšana, Siera kūka, Multipavars (no 35 līdz 180 °C ar soli 1 °C), Jauda: 860 W"},
          {name:"Tējkanna Colorsense A11E", price:"45.00", img:"photo/11E.jpg", description: "Krāsaina sensoru vadības panelis, 5 uzsildīšanas režīmi – 40°, 70°, 80°, 90°, 100° C, Automātiskā sildīšana – 2 stundas, Cool Touch tehnoloģija (inovatīva divsienu konstrukcija, kas nodrošina termosa efektu un aizsargā no apdegumiem), Programmu skaits: 5 (bērnu pārtika, baltā tēja, zaļā tēja, kafija, vārīšana), Temperatūras regulēšana 40°–100° C, solis 5°C, Rotācija par 360 grādiem, Tilpums: 1,7 l, Jauda: 2000 W"},
          {name:"Tējkanna Colorsense A15E", price:"49.00", img:"photo/15E1.jpg", description: "Krāsaina sensoru vadības panelis, 5 uzsildīšanas režīmi – 40°, 70°, 80°, 90°, 100° C, Automātiskā sildīšana – 2 stundas, Cool Touch tehnoloģija (inovatīva divsienu konstrukcija, kas nodrošina termosa efektu un aizsargā no apdegumiem), Programmu skaits: 5 (bērnu pārtika, baltā tēja, zaļā tēja, kafija, vārīšana), Temperatūras regulēšana 40°–100° C, solis 5°C, Rotācija par 360 grādiem, Tilpums: 1,7 l, Jauda: 2000 W"}
        ]},
      ru: { 
        title:"Наши товары", 
        cartTitle:"Корзина", 
        cartTotal:"Итого:", 
        emptyCart:"Очистить корзину", 
        deliveryTitle:"Доставка",
        venipak:"Venipak (1–3 рабочих дня, 4.00 EUR)", 
        pickup:"Самовывоз Mārupe, Lielā 19 k1 (БЕСПЛАТНО)", 
        chooseLocker:"Выберите пакомат:",
        orderTitle:"Оформить заказ", 
        name:"Ваше имя:", 
        email:"E-mail:", 
        phone:"Телефон:", 
        comments:"Комментарии:", 
        orderButton:"Заказать",
        addToCart: "Добавить в корзину",
        contacts: "Контакты",
        details: "Реквизиты",
        products:[
          {name:"Мультиварка RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg", description: "Функции: Автоматический подогрев до 12 ч. ,Отключение автоматического подогрева заранее, Отложенный старт до 24 ч. ,Разогрев пищи ,Мультиповар ,Блокировка панели управления, Отключение звукового сигнала ,RGB индикация . Программы:  Быстрое приготовление (Экспресс), Рис/Крупы, Суп, На пару, Варка, Тушение, Томление, Жарка, Выпечка (Тесто), Пицца, Плов, Йогурт, Хлеб, Паста, Молочная каша, Вакуумирование, Фритюр, Чизкейк, Мультиповар (от 35 до 180 °C с шагом 1 °C), Мощность: 860 W"},
          {name:"Чайник Colorsense A11E", price:"45.00", img:"photo/11E.jpg", description: "Цветной сенсорный панель управления , 5 режимов подогрева — 40°, 70°, 80°, 90°, 100° C , Автоматический подогрев — 2 часа , Регулировка температуры 40°–100° C, шаг 5°C, Поворот на 360 градусов, Технология Cool Touch (инновационная двухслойная конструкция, обеспечивающая эффект термоса и защищающая от ожогов). Количество программ: 5 (прикорм для детей, белый чай, зеленый чай, кофе, кипячение). Объем: 1,7 l, Мощность: 2000 W"},
          {name:"Чайник Colorsense A15E", price:"49.00", img:"photo/15E1.jpg", description: "Цветной сенсорный панель управления , 5 режимов подогрева — 40°, 70°, 80°, 90°, 100° C , Автоматический подогрев — 2 часа , Регулировка температуры 40°–100° C, шаг 5°C, Поворот на 360 градусов, Технология Cool Touch (инновационная двухслойная конструкция, обеспечивающая эффект термоса и защищающая от ожогов). Количество программ: 5 (прикорм для детей, белый чай, зеленый чай, кофе, кипячение). Объем: 1,7 l, Мощность: 2000 W"}
        ]},
      ee: { 
        title:"Meie tooted", 
        cartTitle:"Ostukorv", 
        cartTotal:"Kokku:", 
        emptyCart:"Tühjenda korv", 
        deliveryTitle:"Kohaletoimetamine",
        venipak:"Venipak pakiautomaat (1–3 tööpäeva, 6.00 EUR)", 
        chooseLocker:"Vali pakiautomaat:", 
        orderTitle:"Esita tellimus",
        name:"Teie nimi:", 
        email:"E-post:", 
        phone:"Telefon:", 
        comments:"Kommentaarid:", 
        orderButton:"Esita",
        addToCart: "Lisa ostukorvi",
        contacts: "Kontaktid",
        details: "Rekvisiidid",
        products:[
          {name:"Multikeetja RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg", description: "See multikeetja ColorSense tehnoloogiaga tagab täpse küpsetamise, määrates automaatselt valmisoleku värvimuutuse järgi. Mitmed programmid ja lihtne kasutamine."},
          {name:"Veeketja Colorsense A11E", price:"45.00", img:"photo/11E.jpg", description: "Elektriline veekeetja ColorSense anduriga, mis muudab värvi vastavalt vee temperatuurile. Kompaktne, kiire ja ohutu automaatse väljalülitamisega."},
          {name:"Veeketja Colorsense A15E", price:"49.00", img:"photo/15E1.jpg", description: "Täiustatud veekeetja ColorSense tehnoloogiaga, suurema mahuga ja reguleeritava temperatuuriga. Ideaalne tee ja kohvi jaoks stiilse disainiga."}
        ]},
      lt: { 
        title:"Mūsų produktai", 
        cartTitle:"Krepšelis", 
        cartTotal:"Iš viso:", 
        emptyCart:"Išvalyti krepšelį", 
        deliveryTitle:"Pristatymas",
        venipak:"Venipak paštomatas (1–3 darbo dienos, 4.00 EUR)", 
        chooseLocker:"Pasirinkite paštomatą:", 
        orderTitle:"Užsakymo pateikimas",
        name:"Jūsų vardas:", 
        email:"El. paštas:", 
        phone:"Telefonas:", 
        comments:"Komentarai:", 
        orderButton:"Užsakyti",
        addToCart: "Pridėti į krepšelį",
        contacts: "Kontaktai",
        details: "Rekvizitai",
        products:[
          {name:"Daugiafunkcis puodas RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg", description: "Funkcijos:Automatinis šildymas iki 12 val., Išankstinis automatinio šildymo išjungimas, Atidėtas startas iki 24 val., Patiekalų pašildymas, Multipavirimo režimas, Valdymo skydelio blokavimas, Garso signalų išjungimas, RGB indikacija, Programos: Greitas virimas (Ekspresas), Ryžiai/Kruopos, Sriuba, Garinimas, Virimas, Troškinimas, Troškinimas (lėtas), Kepimas, Kepimas (tešlos gaminiai), Pica, Plovas, Jogurtas, Duona, Pasta, Pieniška košė, Vakuuminis virimas, Fritūravimas, Sūrio pyragas, Multipavirimo režimas (nuo 35 iki 180 °C kas 1 °C)., Galia: 860 W"},
          {name:"Virdulys Colorsense A11E", price:"45.00", img:"photo/11E.jpg", description: "Spalvotas jutiklinis valdymo skydelis, 5 pašildymo režimai – 40°, 70°, 80°, 90°, 100 °C, Automatinis šildymo palaikymas – iki 2 val, Cool Touch technologija (inovatyvi dvigubų sienelių konstrukcija su termoso efektu ir apsauga nuo nudegimų), Programų skaičius: 5 (kūdikių maistas, balta arbata, žalia arbata, kava, virimas), Temperatūros reguliavimas 40–100 °C, žingsnis 5 °C, 360° pasukamas pagrindas, Talpa: 1,7 l, Galia: 2000 W"},
          {name:"Virdulys Colorsense A15E", price:"49.00", img:"photo/15E1.jpg", description: "Spalvotas jutiklinis valdymo skydelis, 5 pašildymo režimai – 40°, 70°, 80°, 90°, 100 °C, Automatinis šildymo palaikymas – iki 2 val, Cool Touch technologija (inovatyvi dvigubų sienelių konstrukcija su termoso efektu ir apsauga nuo nudegimų), Programų skaičius: 5 (kūdikių maistas, balta arbata, žalia arbata, kava, virimas), Temperatūros reguliavimas 40–100 °C, žingsnis 5 °C, 360° pasukamas pagrindas, Talpa: 1,7 l, Galia: 2000 W"}
        ]}
    };

    function loadProducts(lang){
      const list = $('#products-list');
      list.empty();
      translations[lang].products.forEach(p=>{
        list.append(`
          <div class="product-card simpleCart_shelfItem" data-description="${p.description}">
            <img src="${p.img}" alt="${p.name}">
            <div>
              <h3 class="item_name">${p.name}</h3>
              <div class="price"><span class="item_price">${p.price}</span> EUR</div>
            </div>
            <div style="margin-top:12px;">
              <a href="javascript:;" class="add-btn item_add">${translations[lang].orderButton}</a>
            </div>
          </div>
        `);
      });
    }

    function setLanguage(lang){
      const t = translations[lang];
      $('#cart-title').text(t.cartTitle);
      $('#delivery-title').text(t.deliveryTitle);
      $('#order-title').text(t.orderTitle);
      $('#cart-total-label').text(t.cartTotal);
      $('#empty-cart').text(t.emptyCart);
      $('#venipak-label').text(t.venipak);
      $('#choose-locker-label').text(t.chooseLocker);
      if(lang==='lv'||lang==='ru'){
        $('#pickup-label-container').show(); $('#pickup-label').text(t.pickup||"");
      } else { $('#pickup-label-container').hide(); }
      $('#name-label').contents().first()[0].textContent=t.name;
      $('#email-label').contents().first()[0].textContent=t.email;
      $('#phone-label').contents().first()[0].textContent=t.phone;
      $('#comments-label').contents().first()[0].textContent=t.comments;
      $('#order-button').text(t.orderButton);
      $('.dropdown-btn[data-target="contacts"]').text(t.contacts);
      $('.dropdown-btn[data-target="details"]').text(t.details);
      loadProducts(lang);
      $('#product-modal .add-btn').text(t.addToCart);
      $('.lang-btn').removeClass('active');
      $(`.lang-btn[data-lang="${lang}"]`).addClass('active');
    }

    $(function(){
      setLanguage('lv');
      $('.lang-btn').on('click', function(){
        const lang = $(this).data('lang');
        setLanguage(lang);
      });

      $('.hamburger').on('click', function(){
        $(this).toggleClass('active');
        $('.dropdown-menu').toggleClass('active');
        $('.dropdown-content').removeClass('active');
      });

      $('.dropdown-btn').on('click', function(){
        const target = $(this).data('target');
        $('.dropdown-content').removeClass('active');
        $(`#${target}`).addClass('active');
      });

      $(document).on('click', function(e){
        if (!$(e.target).closest('.hamburger, .dropdown-menu').length) {
          $('.hamburger').removeClass('active');
          $('.dropdown-menu').removeClass('active');
          $('.dropdown-content').removeClass('active');
        }
      });

      simpleCart({
        cartStyle:"table",
        currency:"EUR",
        cartColumns:[
          { attr:"name", label:"Prece" },
          { 
            label:"Daudzums", 
            view: function(item, column){
              return `
                <div class="quantity-controls">
                  <button class="decrement" data-id="${item.get('id')}">-</button>
                  <input type="number" class="quantity-input" data-id="${item.get('id')}" value="${item.get('quantity')}" min="1">
                  <button class="increment" data-id="${item.get('id')}">+</button>
                </div>
              `;
            }
          },
          { 
            attr:"price", 
            label:"Cena",
            view: function(item, column){
              return parseFloat(item.get('price')).toFixed(2);
            }
          },
          { view:"remove", text:"Dzēst" }
        ]
      });

      $.getJSON('venipak-points.json',function(data){
        const select=$('#locker-select');
        select.empty();
        data.forEach(point=>{
          select.append('<option value="'+point.id+'">'+point.city+', '+point.address+' ('+point.pickup_point+')</option>');
        });
      });

      function updateCartTotal(){
        let itemsTotal = parseFloat(simpleCart.total()) || 0;
        let deliveryCost = 0;
        const lang = $('.lang-btn.active').data('lang');
        const deliveryType = $('input[name="delivery"]:checked').val();
        if (deliveryType === "Venipak pakomāts") deliveryCost = (lang === 'ee') ? 6 : 4;

        $('.simpleCart_items .delivery-row').remove();
        const $tbody = $('.simpleCart_items table tbody');
        if ($tbody.length && deliveryCost > 0) {
          $tbody.append('<tr class="delivery-row"><td>Доставка</td><td>1</td><td>' + deliveryCost.toFixed(2) + '</td><td></td></tr>');
        }
        const totalWithDelivery = (itemsTotal + deliveryCost).toFixed(2);
        $('.simpleCart_total').text(totalWithDelivery);
      }

      $(document).on('click', '.increment', function(){
        const id = $(this).data('id');
        const item = simpleCart.find(id);
        if(item) {
          item.quantity(item.get('quantity') + 1);
          simpleCart.update();
        }
      });

      $(document).on('click', '.decrement', function(){
        const id = $(this).data('id');
        const item = simpleCart.find(id);
        if(item && item.get('quantity') > 1) {
          item.quantity(item.get('quantity') - 1);
          simpleCart.update();
        }
      });

      $(document).on('change', '.quantity-input', function(){
        const id = $(this).data('id');
        const item = simpleCart.find(id);
        const newQuantity = parseInt($(this).val()) || 1;
        if(item && newQuantity >= 1) {
          item.quantity(newQuantity);
          simpleCart.update();
        } else {
          $(this).val(item.get('quantity'));
        }
      });

      $('input[name="delivery"]').on('change', updateCartTotal);
      simpleCart.bind('update', updateCartTotal);

      $('#orderForm').on('submit',function(e){
        var items=simpleCart.items();
        if(!items.length){ alert("Grozs ir tukšs"); e.preventDefault(); return false; }
        var summaryArr=items.map(it=>it.get('quantity')+' × '+it.get('name')+' ('+parseFloat(it.get('price')).toFixed(2)+' EUR)');
        var itemsTotal=parseFloat(simpleCart.total())||0;
        var deliveryType=$('input[name="delivery"]:checked').val()||"Nav izvēlēts";
        const lang=$('.lang-btn.active').data('lang');
        let deliveryCost=(deliveryType==="Venipak pakomāts")?((lang==='ee')?6:4):0;
        let totalWithDelivery=(itemsTotal+deliveryCost).toFixed(2);
        var lockerAddr=$('#locker-select option:selected').text();
        var cartText=summaryArr.join('\\n')+"\\nKopā: "+totalWithDelivery+" EUR\\nPiegāde: "+deliveryType;
        if(deliveryType==="Venipak pakomāts") cartText+="\\nVenipak pakomāts: "+lockerAddr;
        $('#cart_contents').val(cartText);
      });

      const modal = $('#product-modal');
      const closeBtn = $('.close');

      $('#products-list').on('click', '.product-card', function(e) {
        if ($(e.target).closest('.add-btn').length) {
          return;
        }

        const card = $(this);
        modal.find('img').attr('src', card.find('img').attr('src'));
        modal.find('h3').text(card.find('.item_name').text());
        modal.find('.description').html(card.data('description'));
        modal.find('.price').text(card.find('.item_price').text() + ' EUR');

        modal.find('.add-btn').off('click').on('click', function() {
          simpleCart.add({
            name: card.find('.item_name').text(),
            price: parseFloat(card.find('.item_price').text()),
            quantity: 1
          });
          modal.hide();
        });

        modal.show();
      });

      closeBtn.on('click', function() {
        modal.hide();
      });

      $(window).on('click', function(e) {
        if (e.target === modal[0]) {
          modal.hide();
        }
      });
    });
  </script>
</body>
</html>


