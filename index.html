<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8" />
  <title>RED — Veikals / Grozs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Шрифты -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-graphite:#0f1113;
      --card-light:#ffffff;
      --card-dark:#1e2023;
      --muted:#9aa0a6;
      --accent-red:#e60000;
      --accent-red-dark:#b30000;
      --text-light:#f5f5f5;
      --text-dark:#111111;
      --radius:12px;
      --container-width:1100px;
    }

    html,body{height:100%;}
    body {
      margin:0;
      font-family: 'Lato', sans-serif;
      background: var(--bg-graphite);
      color: var(--text-light);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:28px 20px;
    }
    .wrap { width:100%; max-width:var(--container-width); }

    header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
      margin-bottom:28px;
    }
    .brand { display:flex; align-items:center; gap:14px; }
    .brand .logo {
      width:42px;
      height:42px;
      background:var(--accent-red);
      border-radius:8px;
      box-shadow:0 4px 12px rgba(230,0,0,0.12);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-weight:700;
      font-family: 'Playfair Display', serif;
      font-size:18px;
    }
    .brand h1{
      font-family: 'Playfair Display', serif;
      font-size:20px;
      margin:0;
      color:var(--text-light);
      letter-spacing:0.4px;
    }
    .lang-selector {
      margin-left:auto;
    }
    .lang-selector label { color:var(--muted); margin-right:8px; font-size:14px; }
    .lang-selector select {
      padding:8px 10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.06);
      background:#0b0b0b;
      color:var(--text-light);
      font-size:14px;
    }

    .grid { display:grid; grid-template-columns:1fr; gap:28px; align-items:start; }

    .products-list {
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:20px;
    }
    .product-card {
      background: var(--card-light);
      color: var(--text-dark);
      border-radius: var(--radius);
      padding:18px;
      box-shadow: 0 6px 20px rgba(2,6,12,0.45);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      transition: transform .22s ease, box-shadow .22s ease;
      min-height:440px;
    }
    .product-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgba(2,6,12,0.55);
    }
    .product-card img {
      width:100%;
      height:340px;
      object-fit:contain;
      border-radius:10px;
      margin-bottom:14px;
      background:#f0f0f0;
    }
    .product-card h3 {
      margin:0 0 8px 0;
      font-family: 'Playfair Display', serif;
      font-size:1.05rem;
      font-weight:700;
    }
    .product-card .price {
      font-weight:700;
      color:var(--accent-red);
      font-size:1.05rem;
      margin-bottom:12px;
    }
    .product-card .add-btn {
      display:inline-block;
      padding:12px 18px;
      background:var(--accent-red);
      color:#fff;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      text-align:center;
      border:none;
      text-decoration:none;
      transition: transform .14s ease, background .14s ease;
    }
    .product-card .add-btn:active { transform: translateY(1px); }
    .product-card .add-btn:hover { background:var(--accent-red-dark); }

    .panel {
      background: var(--card-dark);
      border-radius: var(--radius);
      padding:20px;
      border:1px solid rgba(255,255,255,0.04);
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      color: var(--text-light);
    }
    .section-title {
      font-family: 'Playfair Display', serif;
      font-size:1.35rem;
      font-weight:700;
      color:#f5f5f5;
      display:inline-block;
      margin:0 0 14px 0;
      pointer-events:auto;
    }

    .simpleCart_items table {
      width:100%;
      border-collapse:collapse;
      margin-bottom:12px;
      background:transparent;
    }
    .simpleCart_items th,
    .simpleCart_items td {
      padding:10px;
      border-bottom:1px solid rgba(255,255,255,0.06);
      text-align:center;
      font-size:14px;
      color:var(--text-light);
      background:transparent;
    }
    .simpleCart_items th { font-weight:700; }

    .empty-cart-btn,
    .simpleCart_items .simpleCart_remove {
      display:inline-block;
      color:#fff !important;
      background:var(--accent-red);
      padding:8px 10px;
      border-radius:8px;
      font-weight:700;
      font-size:15px;
      text-decoration:none !important;
      cursor:pointer;
      border:none;
    }
    .empty-cart-btn:hover,
    .simpleCart_items .simpleCart_remove:hover,
    .empty-cart-btn:active,
    .simpleCart_items .simpleCart_remove:active {
      background:var(--accent-red-dark) !important;
    }

    .cart-total {
      margin-top:8px;
      font-weight:700;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      font-size:1rem;
    }
    .cart-total .label { color:var(--muted); font-weight:600; }
    .cart-total .value { color:var(--text-light); font-size:1.05rem; }

    #locker-field { margin-top:12px; }
    #locker-field select {
      width:100%;
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      background:#fff;
      color:var(--text-dark);
      font-size:14px;
    }

    .order-form label { display:block; color:var(--muted); font-weight:600; margin-bottom:6px; }
    .order-form input[type="text"],
    .order-form input[type="email"],
    .order-form textarea {
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      background:#fff;
      color:var(--text-dark);
      font-size:14px;
      box-sizing:border-box;
    }
    .order-form textarea { min-height:90px; resize:vertical; }
    .order-form button {
      display:inline-block;
      padding:12px 20px;
      background:var(--accent-red);
      color:#fff;
      border-radius:10px;
      border:none;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(230,0,0,0.12);
      transition: background .14s ease, transform .08s ease;
    }
    .order-form button:hover { background:var(--accent-red-dark); }
    .order-form button:active { transform:translateY(1px); }

    @media (max-width:1100px){ .products-list{ grid-template-columns:repeat(2,1fr);} }
    @media (max-width:700px){ .products-list{ grid-template-columns:1fr;} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">RED</div>
        <h1>RED — Veikals</h1>
      </div>
      <div class="lang-selector">
        <label for="lang">Valoda / Language / Язык / Keel:</label>
        <select id="lang">
          <option value="lv">Latviešu</option>
          <option value="ru">Русский</option>
          <option value="ee">Eesti</option>
          <option value="lt">Lietuvių</option>
        </select>
      </div>
    </header>

    <main>
      <h2 style="margin-bottom:18px; font-family:'Playfair Display',serif; font-size:1.6rem; color:var(--text-light);">Mūsu preces</h2>
      <div class="products-list" id="products-list"></div>

      <!-- КОРЗИНА -->
      <section class="panel">
        <div class="section-title" id="cart-title">Grozs</div>
        <div class="cart-items" style="margin-top:14px;"><div class="simpleCart_items"></div></div>
        <div class="cart-total" style="margin-top:12px;">
          <div class="label" id="cart-total-label">Kopā:</div>
          <div class="value"><span class="simpleCart_total">0.00</span> EUR</div>
        </div>
        <div style="margin-top:14px;">
          <a href="javascript:;" class="empty-cart-btn simpleCart_empty" id="empty-cart">Iztīrīt grozu</a>
        </div>
      </section>

      <!-- ДОСТАВКА -->
      <section class="panel" style="margin-top:28px;">
        <div class="section-title" id="delivery-title">Piegāde</div>
        <div style="margin-top:14px;">
          <label style="display:block; color:var(--text-light); font-weight:600; margin-bottom:8px;">
            <input type="radio" name="delivery" value="Venipak pakomāts" required>
            <span id="venipak-label" style="margin-left:8px; color:var(--muted); font-weight:600;">Venipak pakomāts (1–3 darba dienas, 4.00 EUR)</span>
          </label>
          <div id="locker-field" class="hidden">
            <label id="choose-locker-label" style="display:block; color:var(--muted); margin-bottom:8px;">Izvēlieties pakomātu:</label>
            <select id="locker-select"><option value="">Ielādē pakomātus...</option></select>
          </div>
          <label id="pickup-label-container" style="display:block; margin-top:12px; color:var(--text-light); font-weight:600;">
            <input type="radio" name="delivery" value="Pašizņemšana Mārupē">
            <span id="pickup-label" style="margin-left:8px; color:var(--muted); font-weight:600;">Pašizņemšana Mārupē, Lielā 19 k1 (BEZMAKSAS)</span>
          </label>
        </div>
      </section>

      <!-- ФОРМА ЗАКАЗА -->
      <section class="panel" style="margin-top:28px;">
        <div class="section-title" id="order-title">Noformēt pasūtījumu</div>
        <form class="order-form" id="orderForm" action="https://api.web3forms.com/submit" method="POST">
          <input type="hidden" name="access_key" value="eecfee69-2466-4350-809f-888ed9faac05">
          <input type="hidden" name="email_to" value="info.redmond.lv@gmail.com">
          <input type="hidden" name="cart_contents" id="cart_contents" value="">

          <label id="name-label">Jūsu vārds:<input type="text" name="customer_name" required></label>
          <label id="email-label">E-pasts:<input type="email" name="email" required></label>
          <label id="phone-label">Telefons:<input type="text" name="phone"></label>
          <label id="comments-label">Komentāri:<textarea name="message" rows="4"></textarea></label>

          <button type="submit" id="order-button">Pasūtīt</button>
        </form>
      </section>
    </main>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/simplecartjs/3.0.5/simplecart.min.js"></script>
  <script>
    const translations = {
      lv: { title:"Mūsu preces", cartTitle:"Grozs", cartTotal:"Kopā:", emptyCart:"Iztīrīt grozu", deliveryTitle:"Piegāde",
        venipak:"Venipak pakomāts (1–3 darba dienas, 4.00 EUR)", pickup:"Pašizņemšana Mārupē, Lielā 19 k1 (BEZMAKSAS)",
        chooseLocker:"Izvēlieties pakomātu:", orderTitle:"Noformēt pasūtījumu", name:"Jūsu vārds:", email:"E-pasts:",
        phone:"Telefons:", comments:"Komentāri:", orderButton:"Pasūtīt",
        products:[
          {name:"Multikatls RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg"},
          {name:"Tējkanna Colorsense A11E", price:"45.00", img:"photo/11E.jpg"},
          {name:"Tējkanna Colorsense A15E", price:"49.00", img:"photo/15E1.jpg"}
        ]},
      ru: { title:"Наши товары", cartTitle:"Корзина", cartTotal:"Итого:", emptyCart:"Очистить корзину", deliveryTitle:"Доставка",
        venipak:"Venipak (1–3 рабочих дня, 4.00 EUR)", pickup:"Самовывоз Mārupe, Lielā 19 k1 (БЕСПЛАТНО)", chooseLocker:"Выберите постамат:",
        orderTitle:"Оформить заказ", name:"Ваше имя:", email:"E-mail:", phone:"Телефон:", comments:"Комментарии:", orderButton:"Заказать",
        products:[
          {name:"Мультиварка RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg"},
          {name:"Чайник Colorsense A11E", price:"45.00", img:"photo/11E.jpg"},
          {name:"Чайник Colorsense A15E", price:"49.00", img:"photo/15E1.jpg"}
        ]},
      ee: { title:"Meie tooted", cartTitle:"Ostukorv", cartTotal:"Kokku:", emptyCart:"Tühjenda korv", deliveryTitle:"Kohaletoimetamine",
        venipak:"Venipak pakiautomaat (1–3 tööpäeva, 6.00 EUR)", chooseLocker:"Vali pakiautomaat:", orderTitle:"Esita tellimus",
        name:"Teie nimi:", email:"E-post:", phone:"Telefon:", comments:"Kommentaarid:", orderButton:"Esita",
        products:[
          {name:"Multikeetja RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg"},
          {name:"Veeketja Colorsense A11E", price:"45.00", img:"photo/11E.jpg"},
          {name:"Veeketja Colorsense A15E", price:"49.00", img:"photo/15E1.jpg"}
        ]},
      lt: { title:"Mūsų produktai", cartTitle:"Krepšelis", cartTotal:"Iš viso:", emptyCart:"Išvalyti krepšelį", deliveryTitle:"Pristatymas",
        venipak:"Venipak paštomatas (1–3 darbo dienos, 4.00 EUR)", chooseLocker:"Pasirinkite paštomatą:", orderTitle:"Užsakymo pateikimas",
        name:"Jūsų vardas:", email:"El. paštas:", phone:"Telefonas:", comments:"Komentarai:", orderButton:"Užsakyti",
        products:[
          {name:"Daugiafunkcis puodas RED COLORSENSE MC200", price:"139.00", img:"photo/200.jpg"},
          {name:"Virdulys Colorsense A11E", price:"45.00", img:"photo/11E.jpg"},
          {name:"Virdulys Colorsense A15E", price:"49.00", img:"photo/15E1.jpg"}
        ]}
    };

    function loadProducts(lang){
      const list = $('#products-list');
      list.empty();
      translations[lang].products.forEach(p=>{
        list.append(`
          <div class="product-card simpleCart_shelfItem">
            <img src="${p.img}" alt="${p.name}">
            <div>
              <h3 class="item_name">${p.name}</h3>
              <div class="price"><span class="item_price">${p.price}</span> EUR</div>
            </div>
            <div style="margin-top:12px;">
              <a href="javascript:;" class="add-btn item_add">${translations[lang].orderButton}</a>
            </div>
          </div>
        `);
      });
    }

    function setLanguage(lang){
      const t = translations[lang];
      $('#cart-title').text(t.cartTitle);
      $('#delivery-title').text(t.deliveryTitle);
      $('#order-title').text(t.orderTitle);
      $('#cart-total-label').text(t.cartTotal);
      $('#empty-cart').text(t.emptyCart);
      $('#venipak-label').text(t.venipak);
      $('#choose-locker-label').text(t.chooseLocker);
      if(lang==='lv'||lang==='ru'){
        $('#pickup-label-container').show(); $('#pickup-label').text(t.pickup||"");
      } else { $('#pickup-label-container').hide(); }
      $('#name-label').contents().first()[0].textContent=t.name;
      $('#email-label').contents().first()[0].textContent=t.email;
      $('#phone-label').contents().first()[0].textContent=t.phone;
      $('#comments-label').contents().first()[0].textContent=t.comments;
      $('#order-button').text(t.orderButton);
      loadProducts(lang);
    }

    $(function(){
      setLanguage('lv');
      $('#lang').on('change',function(){ setLanguage(this.value); });

      simpleCart({
        cartStyle:"table",
        currency:"EUR",
        cartColumns:[
          { attr:"name", label:"Prece" },
          { attr:"quantity", label:"Daudzums", view:"input" },
          { attr:"price", label:"Cena" },
          { view:"remove", text:"Dzēst" }
        ]
      });

      $.getJSON('venipak-points.json',function(data){
        const select=$('#locker-select');
        select.empty();
        data.forEach(point=>{
          select.append('<option value="'+point.id+'">'+point.city+', '+point.address+' ('+point.pickup_point+')</option>');
        });
      });

      function updateCartTotal(){
        let itemsTotal=parseFloat(simpleCart.total())||0;
        let deliveryCost=0;
        const lang=$('#lang').val();
        const deliveryType=$('input[name="delivery"]:checked').val();
        if(deliveryType==="Venipak pakomāts") deliveryCost=(lang==='ee')?6:4;

        $('.simpleCart_items .delivery-row').remove();
        const $tbody = $('.simpleCart_items table tbody');
        if($tbody.length && deliveryCost>0){
          $tbody.append('<tr class="delivery-row"><td>Доставка</td><td>1</td><td>'+deliveryCost.toFixed(2)+'</td><td></td></tr>');
        }
        const totalWithDelivery=(itemsTotal+deliveryCost).toFixed(2);
        $('.simpleCart_total').text(totalWithDelivery);
      }

      $('input[name="delivery"]').on('change', updateCartTotal);
      simpleCart.bind('update', updateCartTotal);

      $('#orderForm').on('submit',function(e){
        var items=simpleCart.items();
        if(!items.length){ alert("Grozs ir tukšs"); e.preventDefault(); return false; }
        var summaryArr=items.map(it=>it.get('quantity')+' × '+it.get('name')+' ('+parseFloat(it.get('price')).toFixed(2)+' EUR)');
        var itemsTotal=parseFloat(simpleCart.total())||0;
        var deliveryType=$('input[name="delivery"]:checked').val()||"Nav izvēlēts";
        const lang=$('#lang').val();
        let deliveryCost=(deliveryType==="Venipak pakomāts")?((lang==='ee')?6:4):0;
        let totalWithDelivery=(itemsTotal+deliveryCost).toFixed(2);
        var lockerAddr=$('#locker-select option:selected').text();
        var cartText=summaryArr.join('\\n')+"\\nKopā: "+totalWithDelivery+" EUR\\nPiegāde: "+deliveryType;
        if(deliveryType==="Venipak pakomāts") cartText+="\\nVenipak pakomāts: "+lockerAddr;
        $('#cart_contents').val(cartText);
      });
    });
  </script>
</body>
</html>

